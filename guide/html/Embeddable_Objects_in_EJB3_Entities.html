<?xml version="1.0" encoding="UTF-8" standalone="no"?>

<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
   <head>
      <title>Chapter 10. Introduction to embedding objects in EJB3 entities</title>
      <link rel="stylesheet" href="css/jbossorg.css" type="text/css"/>
      <meta name="generator" content="DocBook XSL Stylesheets V1.72.0"/>
      <link rel="start" href="index.html" title="JBoss EJB3 Tutorials"/>
      <link rel="up" href="index.html" title="JBoss EJB3 Tutorials"/>
      <link rel="prev" href="EJB_2.1_Client_Adaptors.html" title="Chapter 9. Introduction to using EJB2.1 client adaptors with EJB3"/>
      <link rel="next" href="Injecting_EJB_in_Servlets.html" title="Chapter 11. Introduction to EJB injection in Servlets"/>
   </head>
   <body>
      <p id="title">
         <a href="http://www.jboss.org" class="jbossOrg_href">
            <strong>
						        JBoss.org	
						</strong>
         </a>
         <a href="http://labs.jboss.com/projects/docs" class="commDoc_href">
            <strong>
						        Community Documentation	
						</strong>
         </a>
      </p>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="EJB_2.1_Client_Adaptors.html">
               <strong>Prev</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="Injecting_EJB_in_Servlets.html">
               <strong>Next</strong>
            </a>
         </li>
      </ul>
      <div class="chapter" lang="en">
         <div class="titlepage">
            <div>
               <div>
                  <h2 class="title">
                     <a id="Embeddable_Objects_in_EJB3_Entities"/>Chapter 10. Introduction to embedding objects in EJB3 entities</h2>
               </div>
            </div>
         </div>
         <p>
		The EJB3 specification allows you to embed plain Java objects within your entities
		and map the properties of this embedded value object to columns within the entity's
		table.
	</p>
         <p>
	The <code class="literal">org.jboss.tutorial.embeddable.bean.Customer</code> entity encapsulates the name of the customer
	in the <code class="literal">org.jboss.tutorial.embeddable.bean.Name</code> value object. The
	<code class="literal">org.jboss.tutorial.embeddable.bean.Name</code> value object must be tagged with the <code class="literal">@Embeddable</code>
	annotation.

	</p>
         <pre class="programlisting">
	
@Embeddable
public class Name implements java.io.Serializable
	
	</pre>
         <p>

	The properties of Name must then be mapped to columns within Customer's table.

	</p>
         <pre class="programlisting">
	
@Embedded
@AttributeOverrides({
   @AttributeOverride(name = "first", column = {@Column(name = "FIRST_NAME")}),
   @AttributeOverride(name = "last", column = {@Column(name = "LAST_NAME")})
})
public Name getName()
{
   return name;
}
	
	</pre>
         <p>
	
         </p>
         <div class="sect5" lang="en">
            <div class="titlepage"/>
Building and Running
	</div>
         <div class="note">
            <h2>Note</h2>
            <p>
	To build and run the example, make sure you have installed JBoss 5.x.
	See the <a href="JBossAS5.html" title="1.1. JBoss Application Server 5.x">Section 1.1, “JBoss Application Server 5.x”</a> for details.
			</p>
         </div>
         <p>
			From the command prompt, move to the "embeddable" folder under the <a href="EJB3_TUTORIAL_HOME.html" title="1.3. Set the EJB3_TUTORIAL_HOME">Section 1.3, “Set the EJB3_TUTORIAL_HOME”</a>
		
         </p>
         <div class="sect5" lang="en">
            <div class="titlepage"/>
Ant Users:
	</div>
         <p>
		Make sure your JBossAS-5.x is running
		</p>
         <pre class="programlisting">
	
$ ant
$ ant run

run:
     [java] Create Bill Burke and Monica Smith
     [java] Bill and Monica get married
     [java] Get all the Burkes
     [java] There are now 2 Burkes
     
	</pre>
         <div class="sect5" lang="en">
            <div class="titlepage"/>
Maven Users: Make sure the AS is not running.
	</div>
         <pre class="programlisting">
$ mvn clean install -PRunSingleTutorial
	</pre>
         <div class="sect5" lang="en">
            <div class="titlepage"/>
View the tables and rows:
	</div>
         <p>
		You can view the tables created by JBoss by going to the
		<a xmlns:xlink="http://www.w3.org/1999/xlink" href="http://localhost:8080/jmx-console/HtmlAdaptor?action=inspectMBean&amp;name=jboss%3Aservice%3DHypersonic%2Cdatabase%3DlocalDB">Hypersonic Service</a>,
		scrolling down to the <code class="literal">startDatabaseManager</code> button and clicking it.
		A Hypersonic SQL window will be minimized, but you can open it up to look at the tables and do queries.

	</p>
      </div>
      <ul class="docnav">
         <li class="previous">
            <a accesskey="p" href="EJB_2.1_Client_Adaptors.html">
               <strong>Prev</strong>Chapter 9. Introduction to using EJB2.1 client ad...</a>
         </li>
         <li class="up">
            <a accesskey="u" href="#">
               <strong>Top of page</strong>
            </a>
         </li>
         <li class="home">
            <a accesskey="h" href="index.html">
               <strong>Front page</strong>
            </a>
         </li>
         <li class="next">
            <a accesskey="n" href="Injecting_EJB_in_Servlets.html">
               <strong>Next</strong>Chapter 11. Introduction to EJB injection in Serv...</a>
         </li>
      </ul>
   </body>
</html>